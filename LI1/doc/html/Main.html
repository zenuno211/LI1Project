<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Main</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption empty">&nbsp;</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr></table><p class="caption">Main</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Introdu&#231;ao:</a></li><li><a href="#g:2">Objetivos:</a></li><li><a href="#g:3">Conclusao:</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Este m&#243;dulo define fun&#231;&#245;es comuns da Tarefa 5 do trabalho pr&#225;tico.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:estadoTeste1">estadoTeste1</a> :: <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></li><li class="src short"><a href="#v:estadoTesteIni">estadoTesteIni</a> :: <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></li><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:movereact">movereact</a> :: Event -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></li><li class="src short"><a href="#v:glossinicial">glossinicial</a> :: (Int, Int)</li><li class="src short"><a href="#v:desenhaMap">desenhaMap</a> :: [Picture] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaDispCa">desenhaDispCa</a> :: <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaDispLs">desenhaDispLs</a> :: <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; [Picture] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaDispCh">desenhaDispCh</a> :: <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaDisp">desenhaDisp</a> :: [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; [Picture] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaJog">desenhaJog</a> :: Int -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; [Picture] -&gt; [Picture]</li><li class="src short"><a href="#v:reageTp">reageTp</a> :: Float -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a></li><li class="src short"><a href="#v:fr">fr</a> :: Int</li><li class="src short"><a href="#v:window">window</a> :: Display</li><li class="src short"><a href="#v:window2">window2</a> :: Display</li><li class="src short"><a href="#v:newgloss">newgloss</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a></li><li class="src short"><a href="#v:nwglossdispch_Tank">nwglossdispch_Tank</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a></li><li class="src short"><a href="#v:nwglossdispca">nwglossdispca</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a></li><li class="src short"><a href="#v:nwglossdispls">nwglossdispls</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a></li><li class="src short"><a href="#v:background">background</a> :: Color</li><li class="src short"><a href="#v:mapateste1">mapateste1</a> :: [[<a href="LI11819.html#t:Peca" title="LI11819">Peca</a>]]</li><li class="src short"><a href="#v:mapaJogo1">mapaJogo1</a> :: <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a></li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Introdu&#231;ao:</h1></a><div class="doc"><p>&#201; nesta tarefa que se trata da parte gr&#225;fica do jogo, sendo aqui onde ele ganha vida, tendo como base todas as outras tarefas
mas tamb&#233;m a biblioteca gloss.</p></div><a href="#g:2" id="g:2"><h1>Objetivos:</h1></a><div class="doc"><p>Apos atribuir imagens pr&#243;prias para cada objeto em jogo, desde as pecas do mapa, aos jogadores e disparos come&#231;amos por 
definir uma janela onde se visualizar&#225; o jogo, e um fundo para o mesmo, neste caso de cor cinza.
Foram criadas tambem funcoes auxliares capazes de &#8220;imprimir&#8221; corretamente essas mesmas imagens no jogo tendo em conta 
as novas posi&#231;&#245;es no gloss. 
Foi tamb&#233;m aqui que definimos as fun&#231;&#245;es respons&#225;veis pela simula&#231;&#227;o do movimento dos jogadores, sendo que a cada um 
fora atribu&#237;do um conjunto de cursores associados as dire&#231;&#245;es e aos disparos. 
Nesta tarefa tambem cri&#225;mos o mapa principal onde o jogo ira decorrer.
Exemplo: <img src="imagesexemplo.png" title="img" /></p></div><a href="#g:3" id="g:3"><h1>Conclusao:</h1></a><div class="doc"><p>Foi nesta tarefa que atrav&#233;s da fun&#231;&#227;o play podemos observar o funcionamento do nosso jogo pela primeira vez,
o que nos permitiu reparar em erros que outra hora n&#227;o identificamos.
Sendo um deles associado a tarefa dois, o que faz com que o movimento do tanque para baixo e para a direita n&#227;o esteja 100% 
correto, uma vez, que para essas dire&#231;&#245;es, ele avan&#231;a duas posi&#231;&#245;es numa vez s&#243;.
No entanto gra&#231;as a tarefa 5 conseguimos entender melhor o nosso objetivo e tentamos melhorar a jogabilidade do mesmo.</p><p>Module : Tarefa5_2018li1g107</p><p>ID : Maria Sofia Martinho Gon&#231;alves Jordao Marques (a87963);
     Jose Nuno Baptista Martins (a90122)</p><p>Data : 28.12.2018</p><p>Universidade do Minho</p></div><div class="top"><p class="src"><a id="v:estadoTeste1" class="def">estadoTeste1</a> :: <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> <a href="#v:estadoTeste1" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:estadoTesteIni" class="def">estadoTesteIni</a> :: <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> <a href="#v:estadoTesteIni" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>Fun&#231;&#227;o principal da Tarefa 5.</p><p><strong>NB:</strong> Esta Tarefa &#233; completamente livre. Deve utilizar a biblioteca <a href="http://hackage.haskell.org/package/gloss">gloss</a> para animar o jogo, e reutilizar <strong>de forma completa</strong> as fun&#231;&#245;es das tarefas anteriores.</p></div></div><div class="top"><p class="src"><a id="v:movereact" class="def">movereact</a> :: Event -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> <a href="#v:movereact" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao responsavel pelo simula&#231;ao dos movimentos dos jogadores.</p></div></div><div class="top"><p class="src"><a id="v:glossinicial" class="def">glossinicial</a> :: (Int, Int) <a href="#v:glossinicial" class="selflink">#</a></p><div class="doc"><p>Posi&#231;ao inicial do gloss, tendo em conta a resolu&#231;ao do ecra.</p></div></div><div class="top"><p class="src"><a id="v:desenhaMap" class="def">desenhaMap</a> :: [Picture] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; [Picture] -&gt; [Picture] <a href="#v:desenhaMap" class="selflink">#</a></p><div class="doc"><p>Desenha o <code><a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a></code> do novo jogo.</p></div></div><div class="top"><p class="src"><a id="v:desenhaDispCa" class="def">desenhaDispCa</a> :: <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; [Picture] -&gt; [Picture] <a href="#v:desenhaDispCa" class="selflink">#</a></p><div class="doc"><p>Funcao auxiliar da funcao desenhaDisp, que desenha 'Disparo canhao' no mapa do jogo.</p></div></div><div class="top"><p class="src"><a id="v:desenhaDispLs" class="def">desenhaDispLs</a> :: <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; [Picture] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; [Picture] -&gt; [Picture] <a href="#v:desenhaDispLs" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao auxiliar da funcao desenhaDisp, que desenha o 'Disparo Laser' no jogo.</p></div></div><div class="top"><p class="src"><a id="v:desenhaDispCh" class="def">desenhaDispCh</a> :: <a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a> -&gt; [Picture] -&gt; [Picture] <a href="#v:desenhaDispCh" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao auxiliar da funcao desenhaDisp, que desenha 'Disparo Choque' no mapa.</p></div></div><div class="top"><p class="src"><a id="v:desenhaDisp" class="def">desenhaDisp</a> :: [<a href="LI11819.html#t:Disparo" title="LI11819">Disparo</a>] -&gt; [Picture] -&gt; <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> -&gt; [Picture] -&gt; [Picture] <a href="#v:desenhaDisp" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao geral que desenha, individualmente, os diferentes disparos no mapa.</p></div></div><div class="top"><p class="src"><a id="v:desenhaJog" class="def">desenhaJog</a> :: Int -&gt; [<a href="LI11819.html#t:Jogador" title="LI11819">Jogador</a>] -&gt; [Picture] -&gt; [Picture] <a href="#v:desenhaJog" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao que desenha os <code>Jogadores</code> no <code><a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a></code> do jogo.</p></div></div><div class="top"><p class="src"><a id="v:reageTp" class="def">reageTp</a> :: Float -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> -&gt; <a href="LI11819.html#t:Estado" title="LI11819">Estado</a> <a href="#v:reageTp" class="selflink">#</a></p><div class="doc"><p>Simula&#231;ao do tempo de jogo.</p></div></div><div class="top"><p class="src"><a id="v:fr" class="def">fr</a> :: Int <a href="#v:fr" class="selflink">#</a></p><div class="doc"><p>Frame rate do jogo.</p></div></div><div class="top"><p class="src"><a id="v:window" class="def">window</a> :: Display <a href="#v:window" class="selflink">#</a></p><div class="doc"><p>Janela de visualiza&#231;ao do jogo em FullScreen.</p></div></div><div class="top"><p class="src"><a id="v:window2" class="def">window2</a> :: Display <a href="#v:window2" class="selflink">#</a></p><div class="doc"><p>Janela de vizualiza&#231;ao.</p></div></div><div class="top"><p class="src"><a id="v:newgloss" class="def">newgloss</a> <a href="#v:newgloss" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a></td><td class="doc"><p>pos glos inicial</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a></td><td class="doc"><p>pos mapa</p></td></tr><tr><td class="src">-&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Funcao que dada uma posicao do mapa retorna a sua posicao na janela gloss</p></div></div><div class="top"><p class="src"><a id="v:nwglossdispch_Tank" class="def">nwglossdispch_Tank</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> <a href="#v:nwglossdispch_Tank" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao responsavel por atribuir a nova posi&#231;ao do tanque,e neste caso do 'Disparo Choque' tambem, na nova posi&#231;ao gloss.</p></div></div><div class="top"><p class="src"><a id="v:nwglossdispca" class="def">nwglossdispca</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> <a href="#v:nwglossdispca" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao auxiliar responsalvel por atribuir a nova posi&#231;ao do 'Disparo Canhao' em posi&#231;ao gloss.</p></div></div><div class="top"><p class="src"><a id="v:nwglossdispls" class="def">nwglossdispls</a> :: <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> -&gt; <a href="LI11819.html#t:Direcao" title="LI11819">Direcao</a> -&gt; <a href="LI11819.html#t:Posicao" title="LI11819">Posicao</a> <a href="#v:nwglossdispls" class="selflink">#</a></p><div class="doc"><p>Semelhante as fun&#231;oes anteriores, esta fun&#231;ao atribui ao 'Disparo Laser' uma nova possi&#231;ao em gloss.</p></div></div><div class="top"><p class="src"><a id="v:background" class="def">background</a> :: Color <a href="#v:background" class="selflink">#</a></p><div class="doc"><p>Define a cor do fundo da janela de jogo.</p></div></div><div class="top"><p class="src"><a id="v:mapateste1" class="def">mapateste1</a> :: [[<a href="LI11819.html#t:Peca" title="LI11819">Peca</a>]] <a href="#v:mapateste1" class="selflink">#</a></p><div class="doc"><p>Mapa para teste.</p></div></div><div class="top"><p class="src"><a id="v:mapaJogo1" class="def">mapaJogo1</a> :: <a href="LI11819.html#t:Mapa" title="LI11819">Mapa</a> <a href="#v:mapaJogo1" class="selflink">#</a></p><div class="doc"><p>Fun&#231;ao que constroi o mapa onde o jogo ir&#225; decorrer.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.20.0</p></div></body></html>